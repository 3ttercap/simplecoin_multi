<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Simple Doge</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
  <link href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/superhero/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/static/css/main.css">
  <link rel="stylesheet" href="/static/css/nv.d3.css">
  <link rel="stylesheet" href="/static/css/odometer-theme-default.css" />
  <script src="//code.jquery.com/jquery-2.1.0.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
  {# <script src="static/js/odometer.min.js"></script> #}
  <script src="/static/js/d3.v3.js"></script>
  <script src="/static/js/nv.d3.min.js"></script>
  <script src="/static/js/graph.js"></Script>
  <script src="/static/js/bootstrap.min.js"></Script>
  <script>
    $(document).ready(function() {
      var shares, ten_min_hashrate, seconds, khashpersec, shares_per_sec, luck;
      {# Grab new pool stats #}
      shares = {{ g.pool_stats[0] }};

      seconds = {{ g.pool_stats[1] }};
      shares_to_solve = {{ g.current_difficulty }} * Math.pow(2, 16);
      ten_min_hashrate = Math.pow(2, 16) * {{ g.pool_stats[3] }};
      khashpersec = (ten_min_hashrate / 600) / 1000;
      shares_per_sec = (shares / seconds);

      function n(n){
          return n > 9 ? "" + n: "0" + n;
      }

      seconds = Math.round(seconds);


      setInterval(function(){

        seconds += 1;
        additional_shares = shares_per_sec * seconds
        y = seconds%60
        minutes = n(Math.floor(seconds/60)%60);
        hours = n(Math.floor(seconds/3600));

        luck = (shares_to_solve / additional_shares) * 1000;
        if (luck > 9999) {
          luck = 9999;
        }

        $('.odometer.shares').text(Math.round(additional_shares));
        $('.odometer.blockshares').text(Math.round(additional_shares));

        $('.minutes').text(minutes);
        $('.seconds').text(n(y));
        $('.hours').text(hours);

        $('.odometer.hashes').text(Math.round(khashpersec/100)/10);
        $('.odometer.luck').text(Math.round(luck) / 10);
        $('.odometer.blockluck').text(Math.round(luck) / 10);
      },1000);
    });
  </script>
</head>
<body>
  <div class="container">
    <div class="row">

        <div class="col-md-5">

          <h1 style="font-size:51px;">
            <a style=" text-decoration: none;" href="/">
              <img src="/static/img/dogecoin.png" width="64" style="padding-bottom: 5px;">
              Simple Doge
            </a>
          </h1>
        </div>
        <div class="col-md-7">
          <h5 class="stats">
              <strong>Pool&nbsp;Hashrate</strong>: <span class="odometer hashes">0</span> Mhash/second |
              <strong>Round&nbsp;Time</strong>: <span class="hours">00</span>:<span class="minutes">00</span>:<span class="seconds">00</span> |
              <strong>Round&nbsp;Shares</strong>: <span class="odometer shares">0</span> |
              <strong>Round&nbsp;Luck</strong>: <span class="odometer luck">0</span>% |
              <strong>Active&nbsp;Workers</strong>: {{ g.worker_count }}
          </h5>
        </div>

    </div>
    <div class="row">
      <div class="navbar navbar-default">
        <div class="navbar-collapse navbar-responsive-collapse">
          <ul class="nav navbar-nav">
            <li{% if active_page == "home" %} class="active"{% endif %}><a href="/"><i class="fa fa-home too-damn-bright"></i> &nbsp;Home</a></li>
            <li{% if active_page == "news" %} class="active"{% endif %}><a href="/news"><i class="fa fa-globe too-damn-bright"></i> &nbsp;News</a></li>
            <li{% if active_page == "pool_stats" %} class="active"{% endif %}><a href="/pool_stats"><i class="fa fa-bar-chart-o too-damn-bright"></i> &nbsp;Pool Stats</a></li>
            <li><a href="https://kiwiirc.com/client/irc.freenode.net/#simpledoge" target="_blank"><i class="fa fa-comments too-damn-bright"></i> &nbsp;IRC</a></li>
            <li{% if active_page == "guides" %} class="active"{% endif %}><a href="/guides/"><i class="fa fa-book too-damn-bright"></i> &nbsp;Guides</a></li>
            <li{% if active_page == "stats" %} class="active"{% endif %}><a href="/stats"><i class="fa fa-user too-damn-bright"></i> &nbsp;User Stats</a></li>
            <li{% if active_page == "charity" %} class="active"{% endif %}><a href="/charity"><i class="fa fa-gift too-damn-bright"></i> &nbsp;Charity</a></li>
          </ul>
        </div>
      </div>
    </div>

  <!-- Alerts ================================================== -->
  {% if g.alerts  %}
    {% for alert in g.alerts %}
    <div class="alert alert-dismissable alert-{{ alert['severity'] }}">
      <button type="button" class="close" data-dismiss="alert">Ã—</button>
      <h4>{{ alert['title']|safe }} -
        <span class="text-muted small" style="color:#fff;">
          {{ alert['date'] }}
        </span>
      </h4>
      <p>{{ alert['body']|safe }}</p>
    </div>
    {% endfor %}
  {% endif %}

  {% block body %}

  {% endblock %}
  {% block footer %}
  <div class="row" style="padding-top:30px;padding-bottom:20px;">
    <div class="col-lg-8 col-lg-offset-2 text-center">
      <br>Email us feature requests or bugs at <a href="emailto:simpledogepool@gmail.com">simpledogepool@gmail.com</a> or to <a href="http://reddit.com/u/bitbumper/">bitbumper</a> on Reddit.
      <br>
      <small>
        Running revision <a href="https://github.com/ericecook/simpledoge/commit/{{ config['hash'] }}">{{ config['hash'] }}</a>
        released on {{ config['revdate'] }}.
        <br>
        Donate to the devs: DOGE DRhevw3qkAjmAjyNkSyXh2kxvrXuxktmyD
        <br>
        Check out a helper library for building your own pool on <a href="https://github.com/icook/cryptokit">Github</a>.</small>
    </div>
  </div>
  {% endblock %}
  </div>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-48385002-1', 'simpledoge.com');
    ga('send', 'pageview');
  </script>
</body>
</html>
